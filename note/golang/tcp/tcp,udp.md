tcp是面向字节流，可靠，有序的协议
upd是面向报文，不可靠，无序的协议

一、udp
1. udp的报文传输，操作系统不会拆分消息，所以一个upd报文就是一个完整的用户消息
2. upd消息最大就是1500（mtu）- 20（ip首部）- 8（udp首部）=1472，但是理论上udp报文长度65535字节，所以虽然upd报文不会拆分，但是ip报文会拆分；而ip协议不提供重试机制，要传输层或者应用层设置重试机制，所以upd不可靠

二、tcp
1. tcp的报文消息是基于两端建立连接，消息传输时，消息会拷贝到操作系统的内核协议栈，真正的发送由发送窗口、拥塞窗口、发送缓冲区决定，所以发送的消息可能会分为多个报文发送，这也就是面向字节流

三、粘包问题
1. 粘包问题指的就是不知道tcp消息的边界，有三种解决方法
2. 固定长度：约定好每个用户信息的长度，灵活性不高
3. 特定字符结尾：约定tcp消息读到某些特定字符，就认为读到了边界；如http请求头，通过回车换行作为协议边界
4. 自定义消息结构体：结构体由数据长度和数据组成，解析到数据长度字段，就知道读指定长度的数据