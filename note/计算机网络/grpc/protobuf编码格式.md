字节内容的结构=tag（标签）+value（编码值）；tag=字段索引+字段编号

一、tag
字段索引是一个唯一数字
字段编号是字段的类型的枚举

计算的tag=（索引<<3）| 字段编号
为什么位移3位？因为字段编号当前有6种0到5，三位正好够存放

一切都是为了实现紧凑、高效的编码方式

二、value

首先各种数据类型的编码方式

1. 6种数据类型，其中注意变长整数varint和字符串string
2. 变长整数
2.1 每个字节用7位存放数据，1位标识是否还有更多字符
2.2 转换过程：将整数转成二进制，每七位一段，从低位到高位存放，按照大端倒序，填充1位标识符

3. 字符串
3.1 用length delimited编码
3.2 前缀长度：在字符串内容前定义一个变长整数，存放字符串长度
3.3 字符串内容：紧跟着前缀长度是完整的字符串字节

其次就是消息传递格式：长度前缀消息帧

1. grpc消息按照长度前缀分帧
2. 每个编码的消息体前会加上4字节的字段，标识接下来消息体的字节长度
3. 再前面会预留1字节表示是否被压缩

三、请求响应消息

请求消息：消息头+消息体，消息体内 长度前缀+编码数据，解析编码数据对应的字节结构